# ====================================
# Trading Platform - Microservices Environment Configuration
# ====================================
# This file contains environment variables for microservices.
# Copy this file to 'micro.env' and fill in the actual values.
# DO NOT commit micro.env to version control!

# ====================================
# Application Server
# ====================================
SERVER_PORT=8081

# ====================================
# PostgreSQL Database (Price Data)
# ====================================
POSTGRES_URL=jdbc:postgresql://localhost:5432/trading
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=your_postgres_password_here

# ====================================
# HikariCP Connection Pool Settings
# ====================================
HIKARI_MIN_IDLE=5
HIKARI_MAX_POOL_SIZE=20
HIKARI_IDLE_TIMEOUT=300000
HIKARI_MAX_LIFETIME=1800000
HIKARI_CONNECTION_TIMEOUT=30000

# ====================================
# MongoDB (Article Storage)
# ====================================
# Format: mongodb+srv://username:password@cluster.mongodb.net/?options
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=trading

# ====================================
# Redis (Caching & Session Management)
# ====================================
# External Redis (production - replace with your Redis URL)
REDIS_URL=redis://your-redis-host:6379
# Local Docker Redis (development)
# REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_SSL_ENABLED=false
REDIS_TIMEOUT=60000

# ====================================
# RabbitMQ (Message Broker for WebSocket STOMP)
# ====================================
# For local development, use localhost or rabbitmq (Docker service name)
SPRING_RABBITMQ_HOST=localhost
SPRING_RABBITMQ_PORT=5672
SPRING_RABBITMQ_USERNAME=guest
SPRING_RABBITMQ_PASSWORD=guest
SPRING_RABBITMQ_STOMP_PORT=61613

# ====================================
# JWT Authentication
# ====================================
# IMPORTANT: Generate a secure 256-bit secret for production!
# You can generate one with: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_SECURE_256_BIT_SECRET_KEY_MIN_32_CHARS
JWT_ACCESS_EXPIRATION=900000
JWT_REFRESH_EXPIRATION=604800000

# ====================================
# Price Collection Service
# ====================================
PRICE_SYMBOLS=btcusdt,ethusdt,bnbusdt

# ====================================
# JPA / Hibernate Configuration
# ====================================
JPA_SHOW_SQL=false
JPA_DDL_AUTO=update
HIBERNATE_BATCH_SIZE=20
HIBERNATE_FETCH_SIZE=50
HIBERNATE_FORMAT_SQL=false
HIBERNATE_SQL_COMMENTS=false
HIBERNATE_GENERATE_STATS=false

# ====================================
# Cache Configuration
# ====================================
CACHE_TTL=600000

# ====================================
# Service Discovery (Eureka)
# ====================================
DISCOVERY_SERVER=http://localhost:8761/eureka

# ====================================
# Production Settings
# ====================================
# Uncomment and configure for production deployment
# SPRING_PROFILES_ACTIVE=prod
# LOGGING_LEVEL_ROOT=INFO
# LOGGING_LEVEL_COM_EXAMPLE_BACKEND=INFO
